<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Открытие новых окон и запись содержания</title>
    <style type="text/css">
        html{background:#fff;font:16px calibri, sans-serif;cursor:default;}
        p{float:left;margin:0 8px 0 0;padding:20px;}
        .p1{background:#ccf;}
        .p2{background:#fcc;}
        .p3{background:#cfc;}
    </style>
    <script type="text/javascript">
        name = 'Это я его открыло!';
        var newWindow;


        function winOpen() {
            var windowWidth = 600, windowHeight = 400;
            var leftwindowPossition = (screen.availWidth - windowWidth) / 2;
            var topwindowpossition = (screen.availHeight - windowHeight) / 2;
            var windowPossition = "width=" + windowWidth + ",height=" + windowHeight + ",top=" + topwindowpossition + ",left=" + leftwindowPossition;
            newWindow = window.open("", "", windowPossition);
            newWindow.focus();
        }

        function docWrite() {
            if(newWindow && !newWindow.closed){
                newWindow.focus();
                var newWindowText = "";
                newWindowText = "<html><head><title>Test</title><script>alert(opener.name)<\/script></head><body><p>Текст параграфа</p ></body></html>";
                newWindow.document.open();
                newWindow.document.write(newWindowText);
                newWindow.document.close();

            }

        }

        function winClose() {
            if(newWindow && !newWindow.closed){
                newWindow.focus();
                newWindow.close();
            }
        }
    </script>
</head>
<body>
<p class="p1"><a href="javascript:winOpen();">Открыть окно</a></p>
<p class="p3"><a href="javascript:docWrite();">Заполнить окно</a></p>
<p class="p2"><a href="javascript:winClose();">Закрыть окно</a></p>
</body>
</html>